#!/bin/bash

set -e

cd "$(dirname "${BASH_SOURCE[0]}")/../.."

# 获取 extension 名称，优先使用环境变量 EXT_NAME，如果没有则使用默认值
EXTENSION_NAME=${EXT_NAME:-elevenlabs_tts_python}

export PYTHONPATH=.:ten_packages/system/ten_runtime_python/lib:ten_packages/system/ten_runtime_python/interface:ten_packages/system/ten_ai_base/interface:ten_packages/extension/${EXTENSION_NAME}:$PYTHONPATH

pytest tests/ "$@"
